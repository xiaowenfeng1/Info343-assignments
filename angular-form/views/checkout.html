<h2>Check Out</h2>

<div class="row">
    <div class="col-md-6">
        <div class="panel panel-default">
            <div class="panel-heading">
                <h3 class="panel-title">Shipping Information</h3>
            </div>

            <form name="shippingForm" class="panel-body" novalidate ng-submit="saveShipping()">
                <div class="row">
                    <div class="form-group col-md-12">
                        <label for="nameInp">Name</label>
                        <input type="text" class="form-control" id="nameInp"
                                name="nameInp" ng-model="shipping.name" required autofocus/>
                        <p class="validation-error"
                           ng-if="shippingForm.nameInp.$dirty && shippingForm.nameInp.$error.required">
                            Name is required.
                        </p>
                    </div>
                </div>

                <div class="form-group">
                    <label for="address1">Address Line 1</label>
                    <input type="text" class="form-control" id="address1"
                            name="address1" ng-model="shipping.address1" required/>
                    <p class="validation-error"
                       ng-if="shippingForm.address1.$dirty && shippingForm.address1.$error.required">
                        Address Line 1 is required.
                    </p>
                </div>

                <div class="form-group">
                    <label for="address2">Address Line 2</label>
                    <input type="text" class="form-control" id="address2"
                            name="address2" ng-model="shipping.address2"/>
                </div>

                <div class="row">
                    <div class="form-group col-md-4">
                        <label for="city">City</label>
                        <input type="text" class="form-control" id="city"
                                name="city" ng-model="shipping.city" required/>
                        <p class="validation-error"
                           ng-if="shippingForm.city.$dirty && shippingForm.city.$error.required">
                            City is required.
                        </p>
                    </div>

                    <div class="form-group col-md-4">
                        <label for="state">State</label>
                        <input type="text" class="form-control" id="state"
                                name="state" ng-model="shipping.state" required/>
                        <p class="validation-error"
                           ng-if="shippingForm.state.$dirty && shippingForm.state.$error.required">
                            State is required.
                        </p>

                    </div>

                    <div class="form-group col-md-4">
                        <label for="zip">Zip</label>
                        <input type="text" class="form-control" id="zip"
                                name="zip" ng-model="shipping.zip" required/>
                        <p class="validation-error"
                           ng-if="shippingForm.zip.$dirty && shippingForm.zip.$error.required">
                            Zip is required.
                        </p>
                    </div>
                </div>
            </form>
        </div>
    </div>

    <div class="col-md-6" id="billing">
        <div class="panel panel-default">
            <div class="panel-heading">
                <h3 class="panel-title">Billing Information</h3>
                <input type="checkbox" ng-model="billingSameAsShipping">
                <small>Bill to shipping address </small>
                </input>

            </div>

        <form name="billingForm" novalidate ng-submit="save()">
            <div class="row">
                <div class="form-group">
                    <label for="bnameInp">Name</label>
                    <input type="text" class="form-control" id="bnameInp"
                           name="bnameInp" ng-model="billing.name" ng-disabled="billingSameAsShipping" required/>
                    <p class="validation-error"
                       ng-if="billingForm.bnameInp.$dirty && billingForm.bnameInp.$error.required">
                        Name is required.
                    </p>
                </div>
            </div>

            <div class="form-group">
                <label for="baddress1">Address Line 1</label>
                <input type="text" class="form-control" id="baddress1"
                       name="baddress1" ng-model="billing.address1" ng-disabled="billingSameAsShipping" required/>
                <p class="validation-error"
                   ng-if="billingForm.baddress1.$dirty && billingForm.baddress1.$error.required">
                    Address Line 1 is required.
                </p>
            </div>

            <div class="form-group">
                <label for="baddress2">Address Line 2</label>
                <input type="text" class="form-control" id="baddress2"
                       name="baddress2" ng-model="billing.address2" ng-disabled="billingSameAsShipping"/>
            </div>


            <div class="row">
                <div class="form-group col-md-4">
                    <label for="bcity">City</label>
                    <input type="text" class="form-control" id="bcity"
                           name="bcity" ng-model="billing.city" ng-disabled="billingSameAsShipping" required/>
                    <p class="validation-error"
                       ng-if="billingForm.bcity.$dirty && billingForm.bcity.$error.required">
                        City is required.
                    </p>
                </div>

                <div class="form-group col-md-4">
                    <label for="bstate">State</label>
                    <input type="text" class="form-control" id="bstate"
                           name="bstate" ng-model="billing.state" ng-disabled="billingSameAsShipping" required/>
                    <p class="validation-error"
                       ng-if="billingForm.bstate.$dirty && billingForm.bstate.$error.required">
                        State is required.
                    </p>

                </div>

                <div class="form-group col-md-4">
                    <label for="bzip">Zip</label>
                    <input type="text" class="form-control" id="bzip"
                           name="bzip" ng-model="billing.zip" ng-disabled="billingSameAsShipping" required/>
                    <p class="validation-error"
                       ng-if="billingForm.bzip.$dirty && billingForm.bzip.$error.required">
                        Zip is required.
                    </p>
                </div>
            </div>
        </form>
        </div>
    </div>
</div>
<form name="paymentForm" novalidate>
    <div class="row">
        <div class="col-md-6">
            <label for="cname">Name on Card</label>
            <input type="text" class="form-control" id="cname"
                    name="cname" ng-model="card.name" required/>
            <p class="validation-error"
               ng-if="paymentForm.cname.$dirty && paymentForm.cname.$error.required">
                Name on card is required.
            </p>
        </div>

        <div class="col-md-6">
            <label for="cnumber">Card Number</label>
            <input type="number" class="form-control" id="cnumber"
                    name="cnumber" ng-model="card.number" required luhn-check/>
            <p class="validation-error"
               ng-if="paymentForm.cnumber.$dirty && paymentForm.cnumber.$error.required">
                Card number is required.
            </p>

            <p class="validation-error"
                ng-if="paymentForm.cname.$dirty && paymentForm.cnumber.$error.luhnCheck">
                Card number is invalid.
            </p>
        </div>
    </div>

    <div class="row">
        <div class="col-md-4">
            <label for="emonth">Expiration Month</label>
            <input type="number" class="form-control" id="emonth"
                    name="emonth" ng-model="card.month" required min="1" max="12"/>
            <p class="validation-error"
               ng-if="paymentForm.emonth.$dirty && paymentForm.emonth.$error.required">
                Expiration month is required.
            </p>
            <p class="validation-error"
               ng-if="paymentForm.emonth.$error.min || paymentForm.emonth.$error.max">
                Expiration month must be in between 1 and 12.
            </p>
        </div>

        <div class="col-md-4">
            <label for="eyear">Expiration Year</label>
            <input type="text" class="form-control" id="eyear"
                    name="eyear" ng-model="card.year" required within-ten-years/>
            <p class="validation-error"
               ng-if="paymentForm.eyear.$dirty && paymentForm.eyear.$error.required">
                Expiration year is required.
            </p>
            <p class="validation-error"
                ng-if="paymentForm.eyear.$dirty && paymentForm.eyear.$error.withinTenYears">
                Expiration year must be between the current year and 10 years from now.
            </p>
        </div>
        <div class="col-md-4">
            <label for="cvv">CVV</label>
            <input type="text" class="form-control" id="cvv"
                    name="cvv" ng-model="card.cvv" required/>
            <p class="validation-error"
                ng-if="paymentForm.cvv.$dirty && paymentForm.cvv.$error.required">
                CVV is required.

            </p>
        </div>
    </div>
</form>
